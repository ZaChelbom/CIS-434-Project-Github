[gd_scene load_steps=8 format=3 uid="uid://yedp7ci4l25n"]

[ext_resource type="Script" uid="uid://cn7h1gstgci4e" path="res://Scripts/main_game.gd" id="1_kry3j"]
[ext_resource type="Script" uid="uid://b7wbff0yr6ivd" path="res://Scripts/hand.gd" id="3_21xkr"]
[ext_resource type="Texture2D" uid="uid://byni4lyif7eth" path="res://Assets/cardHachi.png" id="3_jjvhh"]
[ext_resource type="Script" uid="uid://11olwl8tcyf" path="res://Scripts/deck.gd" id="5_21xkr"]

[sub_resource type="Curve" id="Curve_kry3j"]
_data = [Vector2(0, 0), 0.0, 0.64860123, 0, 0, Vector2(0.5054348, 0.123595595), 0.0, 0.0, 0, 0, Vector2(1, 0), -0.72359586, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_21xkr"]
_limits = [-1.0, 1.0, 0.0, 1.0]
_data = [Vector2(0, -1), 0.0, 4.1348314, 0, 0, Vector2(0.5, 0.033707857), 0.0, 0.0, 0, 0, Vector2(1, 1), 5.033708, 0.0, 0, 0]
point_count = 3

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jjvhh"]
bg_color = Color(1, 1, 1, 1)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 45
corner_radius_top_right = 45
corner_radius_bottom_right = 45
corner_radius_bottom_left = 45
shadow_size = 6

[node name="main_game" type="Node2D"]
script = ExtResource("1_kry3j")

[node name="opponent_background" type="ColorRect" parent="."]
offset_right = 1280.0
offset_bottom = 360.0
mouse_filter = 2
mouse_behavior_recursive = 1
color = Color(0.9607843, 0.70980394, 0.77254903, 1)
metadata/_edit_lock_ = true

[node name="player_background" type="ColorRect" parent="."]
offset_top = 360.0
offset_right = 1280.0
offset_bottom = 720.0
mouse_filter = 2
mouse_behavior_recursive = 1
color = Color(0.54901963, 0.78039217, 0.9372549, 1)
metadata/_edit_lock_ = true

[node name="deck_marker" type="ColorRect" parent="."]
offset_left = 1140.0
offset_top = 398.0
offset_right = 1228.0
offset_bottom = 530.0
mouse_filter = 2
mouse_behavior_recursive = 1
color = Color(0.16862746, 0.7372549, 0.6156863, 1)

[node name="Hand" type="ColorRect" parent="."]
offset_left = 752.0
offset_top = 448.0
offset_right = 1112.0
offset_bottom = 536.0
mouse_filter = 2
mouse_behavior_recursive = 1
color = Color(0, 0, 0, 0)
script = ExtResource("3_21xkr")
hand_curve = SubResource("Curve_kry3j")
rotation_curve = SubResource("Curve_21xkr")

[node name="draw_card_button" type="Button" parent="."]
visible = false
offset_left = 792.0
offset_top = 552.0
offset_right = 944.0
offset_bottom = 584.0
text = "Draw Card (debug)"

[node name="discard_card_button" type="Button" parent="."]
offset_left = 792.0
offset_top = 592.0
offset_right = 944.0
offset_bottom = 624.0
disabled = true
text = "Discard Card"

[node name="discard_tract_button" type="Button" parent="."]
offset_left = 792.0
offset_top = 632.0
offset_right = 944.0
offset_bottom = 664.0
disabled = true
text = "Discard Track"

[node name="debug_reset_button" type="Button" parent="."]
offset_left = 792.0
offset_top = 672.0
offset_right = 944.0
offset_bottom = 704.0
text = "Reset (debug)"

[node name="Deck" type="Node2D" parent="."]
position = Vector2(1184, 464)
script = ExtResource("5_21xkr")

[node name="DeckImage" type="Sprite2D" parent="Deck"]
scale = Vector2(0.176, 0.18181819)
texture = ExtResource("3_jjvhh")

[node name="DeckLabel" type="RichTextLabel" parent="Deck"]
offset_left = -56.0
offset_top = 72.0
offset_right = 56.0
offset_bottom = 104.0
theme_override_font_sizes/normal_font_size = 22
text = "Deck: 0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="end_screen_panel" type="Panel" parent="."]
visible = false
z_index = 100
offset_left = 256.0
offset_top = 128.0
offset_right = 1024.0
offset_bottom = 576.0
theme_override_styles/panel = SubResource("StyleBoxFlat_jjvhh")

[node name="victor_text_label" type="RichTextLabel" parent="end_screen_panel"]
layout_mode = 0
offset_top = 32.0
offset_right = 768.0
offset_bottom = 144.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 48
text = "The CPU won!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="reason_text_label" type="RichTextLabel" parent="end_screen_panel"]
layout_mode = 0
offset_left = 32.0
offset_top = 160.0
offset_right = 736.0
offset_bottom = 304.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 38
text = "The CPU sold all 3 of their caravans without any ties!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="play_again_button" type="Button" parent="end_screen_panel"]
layout_mode = 0
offset_left = 64.0
offset_top = 336.0
offset_right = 320.0
offset_bottom = 400.0
theme_override_font_sizes/font_size = 32
text = "Play Again?"

[node name="main_menu_button" type="Button" parent="end_screen_panel"]
layout_mode = 0
offset_left = 448.0
offset_top = 336.0
offset_right = 704.0
offset_bottom = 400.0
theme_override_font_sizes/font_size = 32
text = "Main Menu"

[connection signal="pressed" from="draw_card_button" to="." method="_on_draw_card_button_pressed"]
[connection signal="pressed" from="discard_card_button" to="." method="_on_discard_card_button_pressed"]
[connection signal="pressed" from="discard_tract_button" to="." method="_on_discard_tract_button_pressed"]
[connection signal="pressed" from="debug_reset_button" to="." method="_on_debug_reset_button_pressed"]
[connection signal="pressed" from="end_screen_panel/play_again_button" to="." method="_on_play_again_button_pressed"]
[connection signal="pressed" from="end_screen_panel/main_menu_button" to="." method="_on_main_menu_button_pressed"]
